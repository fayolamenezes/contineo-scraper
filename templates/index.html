<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Contineo Scraper</title>
  <link rel="stylesheet" href="/static/style.css" />
</head>
<body>
  <div class="container">
    <h1>Contineo Marks & Attendance</h1>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flashes">
          {% for category, message in messages %}
            <li class="flash {{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form action="/generate" method="POST">
      <!-- PRN Field -->
      <label for="prn">PRN:</label>
      <input type="text" name="prn" id="prn" required placeholder="Enter your PRN">

      <!-- DOB Selects -->
      <label>Date of Birth:</label>
      <div class="dob-selects">
        <!-- Day -->
        <select name="day" required>
          <option value="" disabled selected>Day</option>
          {% for d in range(1, 32) %}
            <option value="{{ d }}">{{ '%02d' % d }}</option>
          {% endfor %}
        </select>

        <!-- Month -->
        <select name="month" required>
          <option value="" disabled selected>Month</option>
          {% set months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 
                           'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'] %}
          {% for m in months %}
            <option value="{{ m }}">{{ m }}</option>
          {% endfor %}
        </select>

        <!-- Year -->
        <select name="year" required>
          <option value="" disabled selected>Year</option>
          {% for y in range(2002, 2011) %}
            <option value="{{ y }}">{{ y }}</option>
          {% endfor %}
        </select>
      </div>

      <!-- Checkboxes -->
      <fieldset class="checkbox-group">
        <legend>Select Data to Include:</legend>
        <label><input type="checkbox" name="include_marks" checked> Marks</label>
        <label><input type="checkbox" name="include_attendance" checked> Attendance</label>
      </fieldset>

      <!-- Submit -->
      <button type="submit">Generate PDF</button>
    </form>
  </div>
</body>
</html>
